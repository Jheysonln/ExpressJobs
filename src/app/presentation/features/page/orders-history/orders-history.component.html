<div class="container">
    <div class="row mb-3">
        <div class="col-12 col-lg-12">
            <mat-card class="col w-100 mb-3">
                <mat-card-content>
                    <div class="container-fluid">
                        <div class="py-2">
                            <div
                                [ngClass]="{'example-table-container p3 mat-elevation-z8 ': true, 'example-table-scroll-container':columnsHeader.length > 5}">
                                <mat-table [dataSource]="listProducts" multiTemplateDataRows>
                                    <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsHeader">
                                        <th mat-header-cell *matHeaderCellDef
                                            [ngClass]="{'size-column-table-scroll': columnsHeader.length > 5,'size-column-table': columnsHeader.length <= 5}">
                                            {{geheaderTable(column)}}</th>
                                        <td mat-cell *matCellDef="let element" [attr.data-label]="geheaderTable(column)"
                                            [ngClass]="{'py-2 text-center custom-row':true,'size-column-table-scroll': columnsHeader.length > 5,'size-column-table': columnsHeader.length <= 5}">
                                            <ng-container [ngSwitch]="geheaderTable(column)">
                                                <div *ngSwitchCase="'Status'" [ngClass]="{'status bg-opacity-25': true,
                                                'bg-success text-success':element[column] === 'Completed',
                                                'bg-danger text-danger':element[column] === 'Cancelled',
                                                'bg-warning  text-warning':element[column] === 'Pending'}">
                                                {{element[column]}}</div>
                                                <div *ngSwitchDefault style="width:90%;margin:auto">{{element[column]}}
                                                </div>
                                            </ng-container>
                                        </td>
                                    </ng-container>
                                    <!-- Expanded Content Column - Detalle -->
                                    <ng-container matColumnDef="expandedDetail">
                                        <td mat-cell class="j-custom-table-expand" *matCellDef="let element"
                                            [attr.colspan]="columnsHeader.length">
                                            <div class="overflow-hidden w-100"
                                                [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                                                <div class="d-flex flex-wrap py-3">
                                                    <div class="col-12 col-md-3 col-lg-3 text-center align-self-center">
                                                        <img [src]="element.productsImg"
                                                            class="j-custom-border j-custom-border-shadow p-1"
                                                            style="border-radius: 100%;width: 100%;max-width: 70px;background: rgba(0,0,0,0.1);">
                                                    </div>
                                                    <div class="col-12 col-md-9 col-lg-6 px-2">
                                                        <h4 class="mb-0 mat-body-strong">
                                                            Black Boost Chair</h4>
                                                        <p class="mb-0 mat-small text-secondary">
                                                            {{element.description}}
                                                        </p>
                                                    </div>
                                                    <div class="col-12 col-lg-3 py-3 py-lg-0 ms-auto text-center">
                                                        <div
                                                            class="h-100 d-flex flex-wrap align-content-center justify-content-evenly">
                                                            <button mat-mini-fab matTooltip="View" color="primary"
                                                                class="j-custom-mat-icon-hover mat-icon-hover-primary">
                                                                <i class="fas fa-eye"></i>
                                                            </button>
                                                            <button mat-mini-fab matTooltip="Edit" color="accent"
                                                                class="j-custom-mat-icon-hover mat-icon-hover-accent">
                                                                <i class="fas fa-pen-to-square"></i>
                                                            </button>
                                                            <button mat-mini-fab matTooltip="Delete" color="warn"
                                                                class="j-custom-mat-icon-hover mat-icon-hover-warn">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="columnsHeader; sticky: true"></tr>
                                    <!-- efectos que presentara la fila al expandirse -->
                                    <tr mat-row *matRowDef="let element; columns: columnsHeader;"
                                        class="table-hover-row" [class.table-select-row]="expandedElement === element"
                                        (click)="expandedElement = expandedElement === element ? null : element">
                                    </tr>
                                    <!-- TamaÃ±o que se expandira -->
                                    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']"
                                        class="table-detail-row">
                                    </tr>
                                </mat-table>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>
